!function(a){"use strict";var b=function(a,b,c){var d,e,f=c.plugins.cursor,g=f._tooltipElem;switch(a){case"nw":d=b.x+c._gridPadding.left-g.outerWidth(!0)-f.tooltipOffset,e=b.y+c._gridPadding.top-f.tooltipOffset-g.outerHeight(!0);break;case"n":d=b.x+c._gridPadding.left-g.outerWidth(!0)/2,e=b.y+c._gridPadding.top-f.tooltipOffset-g.outerHeight(!0);break;case"ne":d=b.x+c._gridPadding.left+f.tooltipOffset,e=b.y+c._gridPadding.top-f.tooltipOffset-g.outerHeight(!0);break;case"e":d=b.x+c._gridPadding.left+f.tooltipOffset,e=b.y+c._gridPadding.top-g.outerHeight(!0)/2;break;case"se":d=b.x+c._gridPadding.left+f.tooltipOffset,e=b.y+c._gridPadding.top+f.tooltipOffset;break;case"s":d=b.x+c._gridPadding.left-g.outerWidth(!0)/2,e=b.y+c._gridPadding.top+f.tooltipOffset;break;case"sw":d=b.x+c._gridPadding.left-g.outerWidth(!0)-f.tooltipOffset,e=b.y+c._gridPadding.top+f.tooltipOffset;break;case"w":d=b.x+c._gridPadding.left-g.outerWidth(!0)-f.tooltipOffset,e=b.y+c._gridPadding.top-g.outerHeight(!0)/2;break;default:d=b.x+c._gridPadding.left+f.tooltipOffset,e=b.y+c._gridPadding.top+f.tooltipOffset}g.css({left:d,top:e}),g=null},c=function(){var a;window.getSelection?(a=window.getSelection(),a.empty?a.empty():a.removeAllRanges&&a.removeAllRanges()):document.selection&&document.selection.empty()},d=function(a,b,c){var d,e,f,g,h,i,j={indices:[],data:[]},k=a.plugins.cursor,l=a.series.length,m=0;for(e=0;l>e;e++)if(d=a.series[e],g=d.renderer,d.show)for(i=k.intersectionThreshold,d.showMarker&&(i+=d.markerRenderer.size/2),m=d.gridData.length,f=0;m>f;f++)h=d.gridData[f],k.showVerticalLine&&Math.abs(b-h[0])<=i&&(j.indices.push(e),j.data.push({seriesIndex:e,pointIndex:f,gridData:h,data:d.data[f]}));return j},e=function(b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=e.plugins.cursor,z=e.series,A=z.length,B="",C=!1;if(y.showTooltipGridPosition&&(B=b.x+", "+b.y,C=!0),y.showTooltipUnitPosition)for(i=0,k=y.tooltipAxisGroups.length;k>i;i++){if(l=i,h=y.tooltipAxisGroups[i],C)B+="<br />";else for(j=0;j<h.length;j++)j&&(B+=", "),m=e.axes[h[j]]._ticks[0].formatter,n=e.axes[h[j]]._ticks[0].formatString,B+=m(n,c[h[j]]);if(y.yaxis||y.xaxis)y.yaxis&&y.yaxis.formatter?o=y.yaxis.formatter(z[i]._yaxis._ticks[0].formatString,c[h[1]],l):(s=h._yaxis._ticks[0].formatString,q=h._yaxis._ticks[0].formatter(s,g[1],l)),y.xaxis&&y.xaxis.formatter?p=y.xaxis.formatter(z[i]._xaxis._ticks[0].formatString,c[h[0]],l):(t=h._xaxis._ticks[0].formatString,q=h._xaxis._ticks[0].formatter(t,g[0],l)),B+=a.jqplot.sprintf(y.tooltipFormatString,p,o);else if(y.useAxesFormatters)for(j=0;j<h.length;j++)j&&(B+=", "),m=e.axes[h[j]]._ticks[0].formatter,n=e.axes[h[j]]._ticks[0].formatString,B+=m(n,c[h[j]],l);else B+=a.jqplot.sprintf(y.tooltipFormatString,c[h[0]],c[h[1]]);C=!0}if(y.showTooltipDataPosition)for(u=d(e,b.x,b.y),i=0;A>i;i++)l=i,f=z[i],f.show&&(v=f.index,w=f.label.toString(),y.useSeriesColor&&(w=a.jqplot.sprintf('<span style="color:%s">%s</span>',f.color,w)),x=a.inArray(v,u.indices),q=null,r=null,-1!==x&&(g=u.data[x].data,y.yaxis||y.xaxis?(y.yaxis&&y.yaxis.formatter?r=y.yaxis.formatter(f._yaxis._ticks[0].formatString,g[1],l):(s=f._yaxis._ticks[0].formatString,r=f._yaxis._ticks[0].formatter(s,g[1],l)),y.xaxis&&y.xaxis.formatter?q=y.xaxis.formatter(f._xaxis._ticks[0].formatString,g[0],l):(t=f._xaxis._ticks[0].formatString,q=f._xaxis._ticks[0].formatter(t,g[0],l)),!C&&y.insertHead&&(B+=a.jqplot.sprintf(y.headTooltipFormatString,q,r),B+="<br />")):y.useAxesFormatters?(t=f._xaxis._ticks[0].formatString,s=f._yaxis._ticks[0].formatString,q=f._xaxis._ticks[0].formatter(t,g[0],l),r=f._yaxis._ticks[0].formatter(s,g[1],l),!C&&y.insertHead&&(B+=a.jqplot.sprintf(y.headTooltipFormatString,q,r),B+="<br />")):(q=g[0],r=g[1]),C&&(B+="<br />"),B+=a.jqplot.sprintf(y.tooltipFormatString,w,q,r),C=!0));""===B?y._tooltipElem.css({display:"none"}):y._tooltipElem.css({display:"block"}),y._tooltipElem.html(B)},f=function(a){if(a){var b={};return a.color&&(b.strokeStyle=a.color),a.style&&(b.linePattern=a.style),a.lineWidth&&(b.lineWidth=a.lineWidth),b}return a},g=function(b,c){var e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=c.plugins.cursor,x=w.cursorCanvas._ctx;if(x.clearRect(0,0,x.canvas.width,x.canvas.height),w.showVerticalLine&&(i=f(w.verticalLine),w.shapeRenderer.draw(x,[[b.x,0],[b.x,x.canvas.height]],i)),w.showHorizontalLine&&(j=f(w.horizontalLine),w.shapeRenderer.draw(x,[[0,b.y],[x.canvas.width,b.y]],j)),e=d(c,b.x,b.y),w.showCursorLegend)for(g=a(c.targetId+" td.jqplot-cursor-legend-label"),h=0;h<g.length;h++)l=m[h],k=a(g[h]).data("seriesIndex"),m=c.series[k],n=m.label.toString(),p=a.inArray(k,e.indices),q=null,r=null,-1!==p&&(o=e.data[p].data,w.yaxis||w.xaxis?(w.yaxis&&w.yaxis.formatter?r=w.yaxis.formatter(l._yaxis._ticks[0].formatString,o[1],k):(s=m._yaxis._ticks[0].formatString,r=m._yaxis._ticks[0].formatter(s,o[1],k)),w.xaxis&&w.xaxis.formatter?q=w.xaxis.formatter(l._xaxis._ticks[0].formatString,o[0],k):(t=m._xaxis._ticks[0].formatString,q=m._xaxis._ticks[0].formatter(t,o[0],k))):w.useAxesFormatters?(u=m._xaxis._ticks[0].formatter,v=m._yaxis._ticks[0].formatter,t=m._xaxis._ticks[0].formatString,s=m._yaxis._ticks[0].formatString,q=u(t,o[0],k),r=v(s,o[1],k)):(q=o[0],r=o[1])),c.legend.escapeHtml?a(g[h]).text(a.jqplot.sprintf(w.cursorLegendFormatString,n,q,r)):a(g[h]).html(a.jqplot.sprintf(w.cursorLegendFormatString,n,q,r));x=null},h=function(a,c,d){var e,f,g,h,i=c.plugins.cursor,j=i._tooltipElem,k=null;switch(i.tooltipLocation){case"nw":e=a.x+c._gridPadding.left-j.outerWidth(!0)-i.tooltipOffset,f=a.y+c._gridPadding.top-i.tooltipOffset-j.outerHeight(!0);break;case"n":e=a.x+c._gridPadding.left-j.outerWidth(!0)/2,f=a.y+c._gridPadding.top-i.tooltipOffset-j.outerHeight(!0);break;case"ne":e=a.x+c._gridPadding.left+i.tooltipOffset,f=a.y+c._gridPadding.top-i.tooltipOffset-j.outerHeight(!0);break;case"e":e=a.x+c._gridPadding.left+i.tooltipOffset,f=a.y+c._gridPadding.top-j.outerHeight(!0)/2;break;case"se":e=a.x+c._gridPadding.left+i.tooltipOffset,f=a.y+c._gridPadding.top+i.tooltipOffset;break;case"s":e=a.x+c._gridPadding.left-j.outerWidth(!0)/2,f=a.y+c._gridPadding.top+i.tooltipOffset;break;case"sw":e=a.x+c._gridPadding.left-j.outerWidth(!0)-i.tooltipOffset,f=a.y+c._gridPadding.top+i.tooltipOffset;break;case"w":e=a.x+c._gridPadding.left-j.outerWidth(!0)-i.tooltipOffset,f=a.y+c._gridPadding.top-j.outerHeight(!0)/2;break;default:e=a.x+c._gridPadding.left+i.tooltipOffset,f=a.y+c._gridPadding.top+i.tooltipOffset}return i.constrainTooltipToScreen&&"undefined"!=typeof d&&(g="",h="",h+=i.tooltipLocation[0],g+=i.tooltipLocation.length>1?i.tooltipLocation[1]:i.tooltipLocation[0],"n"===h&&d.pageY-i.tooltipOffset-j.outerHeight(!0)<=0?k="s":"s"===h&&d.pageY+j.outerHeight(!0)+i.tooltipOffset>=document.body.clientHeight?k="n":("n"===h||"s"===h)&&(k=h),"w"===g&&d.pageX-j.outerWidth(!0)<=0?k+="e":"e"===g&&d.pageX+j.outerWidth(!0)>=document.body.clientWidth?k+="w":("e"===g||"w"===g)&&(k+=g),null!==k)?void b(k,a,c):(j.css({left:e,top:f}),void(j=null))},i=function(a){var b,c,d=a._gridPadding,e=a.plugins.cursor,f=e._tooltipElem;switch(e.tooltipLocation){case"nw":b=d.left+e.tooltipOffset,c=d.top+e.tooltipOffset,f.css({left:b,top:c});break;case"n":b=(d.left+(a._plotDimensions.width-d.right))/2-f.outerWidth(!0)/2,c=d.top+e.tooltipOffset,f.css({left:b,top:c});break;case"ne":b=d.right+e.tooltipOffset,c=d.top+e.tooltipOffset,f.css({right:b,top:c});break;case"e":b=d.right+e.tooltipOffset,c=(d.top+(a._plotDimensions.height-d.bottom))/2-f.outerHeight(!0)/2,f.css({right:b,top:c});break;case"se":b=d.right+e.tooltipOffset,c=d.bottom+e.tooltipOffset,f.css({right:b,bottom:c});break;case"s":b=(d.left+(a._plotDimensions.width-d.right))/2-f.outerWidth(!0)/2,c=d.bottom+e.tooltipOffset,f.css({left:b,bottom:c});break;case"sw":b=d.left+e.tooltipOffset,c=d.bottom+e.tooltipOffset,f.css({left:b,bottom:c});break;case"w":b=d.left+e.tooltipOffset,c=(d.top+(a._plotDimensions.height-d.bottom))/2-f.outerHeight(!0)/2,f.css({left:b,top:c});break;default:b=d.right-e.tooltipOffset,c=d.bottom+e.tooltipOffset,f.css({right:b,bottom:c})}f=null},j=function(a,b,d,e,f){a.preventDefault(),a.stopImmediatePropagation();var g=f.plugins.cursor;return g.clickReset&&g.resetZoom(f,g),c(),!1},k=function(a,b,d,e,f){a.preventDefault(),a.stopImmediatePropagation();var g=f.plugins.cursor;return g.dblClickReset&&g.resetZoom(f,g),c(),!1},l=function(b,c,d,e,f){var g,h,i,j,k,l,m=f.plugins.cursor;if(m.onGrid=!1,m.show&&(a(b.target).css("cursor",m.previousCursor),!m.showTooltip||m._zoom.zooming&&m.showTooltipOutsideZoom&&!m.constrainOutsideZoom||(m._tooltipElem.empty(),m._tooltipElem.hide()),m.zoom&&(m._zoom.gridpos=c,m._zoom.datapos=d),(m.showVerticalLine||m.showHorizontalLine)&&(j=m.cursorCanvas._ctx,j.clearRect(0,0,j.canvas.width,j.canvas.height),j=null),m.showCursorLegend))for(g=a(f.targetId+" td.jqplot-cursor-legend-label"),h=0;h<g.length;h++)i=a(g[h]).data("seriesIndex"),k=f.series[i],l=k.label.toString(),f.legend.escapeHtml?a(g[h]).text(a.jqplot.sprintf(m.cursorLegendFormatString,l,void 0,void 0)):a(g[h]).html(a.jqplot.sprintf(m.cursorLegendFormatString,l,void 0,void 0))},m=function(a,b,c,d,f){var j=f.plugins.cursor;j.onGrid=!0,j.show&&(j.previousCursor=a.target.style.cursor,a.target.style.cursor=j.style,j.showTooltip&&(e(b,c,f),j.followMouse?h(b,f,a):i(f),j._tooltipElem.show()),(j.showVerticalLine||j.showHorizontalLine)&&g(b,f))},n=function(a,b,c,d,f){var i=f.plugins.cursor;i.show&&(i.showTooltip&&(e(b,c,f),i.followMouse&&h(b,f,a)),(i.showVerticalLine||i.showHorizontalLine)&&g(b,f))},o=function(a){var b,c,d,e,f,g=a.data.plot,h=g.eventCanvas._elem.offset(),i={x:a.pageX-h.left,y:a.pageY-h.top};for(b={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},c=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],d=g.axes,e=11;e>0;e--)f=c[e-1],d[f].show&&(b[f]=d[f].series_p2u(i[f.charAt(0)]));return{offsets:h,gridPos:i,dataPos:b}},p=function(){var a,b,c,d,e,f,g;a=this._zoom.start,b=this._zoom.end,c=this.zoomCanvas._ctx,b[0]>a[0]?(d=a[0],g=b[0]-a[0]):(d=b[0],g=a[0]-b[0]),b[1]>a[1]?(e=a[1],f=b[1]-a[1]):(e=b[1],f=a[1]-b[1]),c.fillStyle="rgba(0, 0, 0, 0.2)",c.strokeStyle="#999999",c.lineWidth=1,c.clearRect(0,0,c.canvas.width,c.canvas.height),c.fillRect(0,0,c.canvas.width,c.canvas.height),c.clearRect(d,e,g,f),c.strokeRect(d,e,g,f),c=null},q=function(a){var b,d,f,g,i,j,k,l,m=a.data.plot,n=m.plugins.cursor;n.show&&n.zoom&&n._zoom.started&&!n.zoomTarget&&(a.preventDefault(),b=n.zoomCanvas._ctx,d=o(a),f=d.gridPos,g=d.dataPos,n._zoom.gridpos=f,n._zoom.datapos=g,n._zoom.zooming=!0,i=f.x,j=f.y,k=b.canvas.height,l=b.canvas.width,n.showTooltip&&!n.onGrid&&n.showTooltipOutsideZoom&&(e(f,g,m),n.followMouse&&h(f,m,a)),"x"===n.constrainZoomTo?n._zoom.end=[i,k]:"y"===n.constrainZoomTo?n._zoom.end=[l,j]:n._zoom.end=[i,j],c(),p.call(n),b=null)},r=function(b){var c,d,e,f,g,h,i,j=b.data.plot,k=j.plugins.cursor;if(k.zoom&&k._zoom.zooming&&!k.zoomTarget){if(c=k._zoom.gridpos.x,d=k._zoom.gridpos.y,e=k._zoom.datapos,f=k.zoomCanvas._ctx.canvas.height,g=k.zoomCanvas._ctx.canvas.width,h=j.axes,k.constrainOutsideZoom&&!k.onGrid){0>c?c=0:c>g&&(c=g),0>d?d=0:d>f&&(d=f);for(i in e)e.hasOwnProperty(i)&&e[i]&&("x"===i.charAt(0)?e[i]=h[i].series_p2u(c):e[i]=h[i].series_p2u(d))}"x"===k.constrainZoomTo?d=f:"y"===k.constrainZoomTo&&(c=g),k._zoom.end=[c,d],k._zoom.gridpos={x:c,y:d},k.doZoom(k._zoom.gridpos,e,j,k)}k._zoom.started=!1,k._zoom.zooming=!1,a(document).unbind("mousemove.jqplotCursor",q),document.onselectstart&&null!==k._oldHandlers.onselectstart&&(document.onselectstart=k._oldHandlers.onselectstart,k._oldHandlers.onselectstart=null),document.ondrag&&null!==k._oldHandlers.ondrag&&(document.ondrag=k._oldHandlers.ondrag,k._oldHandlers.ondrag=null),document.onmousedown&&null!==k._oldHandlers.onmousedown&&(document.onmousedown=k._oldHandlers.onmousedown,k._oldHandlers.onmousedown=null)},s=function(b,c,d,e,f){var g,h,i=f.plugins.cursor;f.axes;if(f.plugins.mobile?a(document).one("vmouseup.jqplot_cursor",{plot:f},r):a(document).one("mouseup.jqplot_cursor",{plot:f},r),document.onselectstart&&(i._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),document.ondrag&&(i._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),document.onmousedown&&(i._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return!1}),i.zoom){i.zoomProxy||(g=i.zoomCanvas._ctx,g.clearRect(0,0,g.canvas.width,g.canvas.height),g=null),"x"===i.constrainZoomTo?i._zoom.start=[c.x,0]:"y"===i.constrainZoomTo?i._zoom.start=[0,c.y]:i._zoom.start=[c.x,c.y],i._zoom.started=!0;for(h in d)d.hasOwnProperty(h)&&(i._zoom.axes.start[h]=d[h]);f.plugins.mobile?a(document).bind("vmousemove.jqplotCursor",{plot:f},q):a(document).bind("mousemove.jqplotCursor",{plot:f},q)}};a.jqplot.Cursor=function(b){this.style="crosshair",this.previousCursor="auto",this.constrainTooltipToScreen=!1,this.show=a.jqplot.config.enablePlugins,this.showTooltip=!0,this.followMouse=!1,this.tooltipLocation="se",this.tooltipOffset=6,this.showTooltipGridPosition=!1,this.showTooltipUnitPosition=!0,this.showTooltipDataPosition=!1,this.tooltipFormatString="%.4P, %.4P",this.useAxesFormatters=!0,this.tooltipAxisGroups=[],this.zoom=!1,this.zoomProxy=!1,this.zoomTarget=!1,this.looseZoom=!0,this.clickReset=!1,this.dblClickReset=!0,this.showVerticalLine=!1,this.showHorizontalLine=!1,this.constrainZoomTo="none",this.shapeRenderer=new a.jqplot.ShapeRenderer,this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}},this._tooltipElem=null,this.zoomCanvas=null,this.cursorCanvas=null,this.intersectionThreshold=2,this.showCursorLegend=!1,this.cursorLegendFormatString=a.jqplot.Cursor.cursorLegendFormatString,this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null},this.constrainOutsideZoom=!0,this.showTooltipOutsideZoom=!1,this.onGrid=!1,this.verticalLine=null,this.horizontalLine=null,this.insertHead=!1,this.headTooltipFormatString="%s",this.useSeriesColor=!1,this.yaxis=null,this.xaxis=null,a.extend(!0,this,b)},a.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s",a.jqplot.Cursor.init=function(b,c,d){var e,f=d||{};this.plugins.cursor=new a.jqplot.Cursor(f.cursor),e=this.plugins.cursor,e.show&&(this.eventListenerHooks.addOnce("jqplotMouseEnter",m),this.eventListenerHooks.addOnce("jqplotMouseLeave",l),this.eventListenerHooks.addOnce("jqplotMouseMove",n),e.showCursorLegend&&(d.legend=d.legend||{},d.legend.renderer=a.jqplot.CursorLegendRenderer,d.legend.formatString=this.plugins.cursor.cursorLegendFormatString,d.legend.show=!0),e.zoom&&(this.eventListenerHooks.addOnce("jqplotMouseDown",s),e.clickReset&&this.eventListenerHooks.addOnce("jqplotClick",j),e.dblClickReset&&this.eventListenerHooks.addOnce("jqplotDblClick",k)),this.resetZoom=function(){var a,b,c=this.axes;if(e.zoomProxy)b=this.plugins.cursor.zoomCanvas._ctx,b.clearRect(0,0,b.canvas.width,b.canvas.height),b=null;else{for(a in c)c.hasOwnProperty(a)&&(c[a].reset(),c[a]._ticks=[],void 0!==e._zoom.axes[a]&&(c[a]._autoFormatString=e._zoom.axes[a].tickFormatString));this.redraw()}this.plugins.cursor._zoom.isZoomed=!1,this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},e.showTooltipDataPosition&&(e.showTooltipUnitPosition=!1,e.showTooltipGridPosition=!1,"undefined"==typeof f.cursor.tooltipFormatString&&(e.tooltipFormatString=a.jqplot.Cursor.cursorLegendFormatString)))},a.jqplot.Cursor.postDraw=function(){var b,c,d,e,f,g=this.plugins.cursor,h=document.createElement("div"),i=[];if(g.zoomCanvas&&(g.zoomCanvas.resetCanvas(),g.zoomCanvas=null),g.cursorCanvas&&(g.cursorCanvas.resetCanvas(),g.cursorCanvas=null),g._tooltipElem&&(g._tooltipElem.emptyForce(),g._tooltipElem=null),g.zoom&&(g.zoomCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(g.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),g.zoomCanvas.setContext()),g._tooltipElem=a(h),h=null,g._tooltipElem.addClass("jqplot-cursor-tooltip"),g._tooltipElem.css({position:"absolute",display:"none"}),g.zoomCanvas?g.zoomCanvas._elem.before(g._tooltipElem):this.eventCanvas._elem.before(g._tooltipElem),(g.showVerticalLine||g.showHorizontalLine)&&(g.cursorCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(g.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),g.cursorCanvas.setContext()),g.showTooltipUnitPosition&&0===g.tooltipAxisGroups.length){for(b=this.series,d=0,e=b.length;e>d;d++)c=b[d],f=c.xaxis+","+c.yaxis,-1===a.inArray(f,i)&&i.push(f);for(d=0,e=i.length;e>d;d++)g.tooltipAxisGroups.push(i[d].split(","))}},a.jqplot.Cursor.zoomProxy=function(a,b){var c=a.plugins.cursor,d=b.plugins.cursor,e=function(b,d,e,f,g){c.doZoom(d,e,a,g)},f=function(b,c,d){a.resetZoom()};c.zoomTarget=!0,c.zoom=!0,c.style="auto",c.dblClickReset=!1,d.zoom=!0,d.zoomProxy=!0,b.target.bind("jqplotZoom",e),b.target.bind("jqplotResetZoom",f)},a.jqplot.Cursor.prototype.resetZoom=function(a,b){var c,d,e=a.axes,f=b._zoom.axes;if(!a.plugins.cursor.zoomProxy&&b._zoom.isZoomed){for(c in e)e.hasOwnProperty(c)&&(e[c].reset(),e[c]._ticks=[],e[c]._autoFormatString=f[c].tickFormatString);a.redraw(),b._zoom.isZoomed=!1}else d=b.zoomCanvas._ctx,d.clearRect(0,0,d.canvas.width,d.canvas.height),d=null;a.target.trigger("jqplotResetZoom",[a,b])},a.jqplot.Cursor.resetZoom=function(a){a.resetZoom()},a.jqplot.Cursor.prototype.doZoom=function(b,c,d,e){var f,g,h,i,j,k,l,m,n=e,o=d.axes,p=n._zoom.axes,q=p.start,r=(p.end,d.plugins.cursor.zoomCanvas._ctx);if("none"===n.constrainZoomTo&&Math.abs(b.x-n._zoom.start[0])>6&&Math.abs(b.y-n._zoom.start[1])>6||"x"===n.constrainZoomTo&&Math.abs(b.x-n._zoom.start[0])>6||"y"===n.constrainZoomTo&&Math.abs(b.y-n._zoom.start[1])>6){if(!d.plugins.cursor.zoomProxy){for(m in c)c.hasOwnProperty(m)&&("undefined"==typeof n._zoom.axes[m]&&(n._zoom.axes[m]={},n._zoom.axes[m].numberTicks=o[m].numberTicks,n._zoom.axes[m].tickInterval=o[m].tickInterval,n._zoom.axes[m].daTickInterval=o[m].daTickInterval,n._zoom.axes[m].min=o[m].min,n._zoom.axes[m].max=o[m].max,n._zoom.axes[m].tickFormatString=null!==o[m].tickOptions?o[m].tickOptions.formatString:""),("none"===n.constrainZoomTo||"x"===n.constrainZoomTo&&"x"===m.charAt(0)||"y"===n.constrainZoomTo&&"y"===m.charAt(0))&&(f=c[m],null!==f&&(f>q[m]?(h=q[m],i=f):(g=q[m]-f,h=f,i=q[m]),j=o[m],k=null,j.alignTicks&&("x2axis"===j.name&&d.axes.xaxis.show?k=d.axes.xaxis.numberTicks:"y"===j.name.charAt(0)&&"yaxis"!==j.name&&"yMidAxis"!==j.name&&d.axes.yaxis.show&&(k=d.axes.yaxis.numberTicks)),!this.looseZoom||o[m].renderer.constructor!==a.jqplot.LinearAxisRenderer&&o[m].renderer.constructor!==a.jqplot.LogAxisRenderer?(o[m].min=h,o[m].max=i,o[m].tickInterval=null,o[m].numberTicks=null,o[m].daTickInterval=null):(l=a.jqplot.LinearTickGenerator(h,i,j._scalefact,k),o[m].tickInset&&l[0]<o[m].min+o[m].tickInset*o[m].tickInterval&&(l[0]+=l[4],l[2]-=1),o[m].tickInset&&l[1]>o[m].max-o[m].tickInset*o[m].tickInterval&&(l[1]-=l[4],l[2]-=1),o[m].renderer.constructor===a.jqplot.LogAxisRenderer&&l[0]<o[m].min&&(l[0]+=l[4],l[2]-=1),o[m].min=l[0],o[m].max=l[1],o[m]._autoFormatString=l[3],o[m].numberTicks=l[2],o[m].tickInterval=l[4],o[m].daTickInterval=[l[4]/1e3,"seconds"]),o[m]._ticks=[])));r.clearRect(0,0,r.canvas.width,r.canvas.height),d.redraw(),n._zoom.isZoomed=!0,r=null}d.target.trigger("jqplotZoom",[b,c,d,e])}},a.jqplot.Cursor.prototype.setZoom=function(b,c,d){var e,f,g,h,i,j;e={pageX:b.x,pageY:b.y,preventDefault:function(){console.log("prevent")},data:{plot:d}},f={pageX:c.x,pageY:c.y,preventDefault:function(){console.log("prevent")},data:{plot:d}},g=o(e).gridPos,h=o(e).dataPos,i=d.plugins.cursor,"x"===i.constrainZoomTo?i._zoom.start=[g.x,0]:"y"===i.constrainZoomTo?i._zoom.start=[0,g.y]:i._zoom.start=[g.x,g.y],i._zoom.started=!0;for(j in h)h.hasOwnProperty(j)&&(i._zoom.axes.start[j]=h[j]);d.plugins.mobile?a(document).bind("vmousemove.jqplotCursor",{plot:d},q):a(document).bind("mousemove.jqplotCursor",{plot:d},q),s(e,g,h,{},d),q(e),r(f)},a.jqplot.preInitHooks.push(a.jqplot.Cursor.init),a.jqplot.postDrawHooks.push(a.jqplot.Cursor.postDraw),a.jqplot.CursorLegendRenderer=function(b){a.jqplot.TableLegendRenderer.call(this,b),this.formatString="%s"},a.jqplot.CursorLegendRenderer.prototype=new a.jqplot.TableLegendRenderer,a.jqplot.CursorLegendRenderer.prototype.constructor=a.jqplot.CursorLegendRenderer,a.jqplot.CursorLegendRenderer.prototype.draw=function(){var b,c,d,e,f,g,h,i,j,k,l=function(b,c,d,e){var f,g=d?this.rowSpacing:"0",h=a('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);h.data("seriesIndex",e),a('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+g+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+c+';"></div></div></td>').appendTo(h),f=a('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+g+';"></td>'),f.appendTo(h),f.data("seriesIndex",e),this.escapeHtml?f.text(b):f.html(b),h=null,f=null};if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){for(b=this._series,c=document.createElement("table"),this._elem=a(c),c=null,this._elem.addClass("jqplot-legend jqplot-cursor-legend"),this._elem.css("position","absolute"),d=!1,e=0,g=b.length;g>e;e++)if(h=b[e],h.show&&h.showLabel)for(i=a.jqplot.sprintf(this.formatString,h.label.toString()),i&&(j=h.color,h._stack&&!h.fill&&(j=""),l.call(this,i,j,d,e),d=!0),f=0;f<a.jqplot.addLegendRowHooks.length;f++)k=a.jqplot.addLegendRowHooks[f].call(this,h),k&&(l.call(this,k.label,k.color,d),d=!0);b=h=null}return this._elem}}(jQuery);