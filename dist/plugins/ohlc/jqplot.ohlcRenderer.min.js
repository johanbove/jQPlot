!function($) {
    $.jqplot.OHLCRenderer = function() {
        $.jqplot.LineRenderer.call(this), this.candleStick = !1, this.tickLength = "auto", 
        this.bodyWidth = "auto", this.openColor = null, this.closeColor = null, this.wickColor = null, 
        this.fillUpBody = !1, this.fillDownBody = !0, this.upBodyColor = null, this.downBodyColor = null, 
        this.hlc = !1, this.lineWidth = 1.5, this._tickLength, this._bodyWidth;
    }, $.jqplot.OHLCRenderer.prototype = new $.jqplot.LineRenderer(), $.jqplot.OHLCRenderer.prototype.constructor = $.jqplot.OHLCRenderer, 
    $.jqplot.OHLCRenderer.prototype.init = function(options) {
        options = options || {}, this.lineWidth = options.lineWidth || 1.5, $.jqplot.LineRenderer.prototype.init.call(this, options), 
        this._type = "ohlc";
        var db = this._yaxis._dataBounds, d = this._plotData;
        if (d[0].length < 5) {
            this.renderer.hlc = !0;
            for (var j = 0; j < d.length; j++) (d[j][2] < db.min || null == db.min) && (db.min = d[j][2]), 
            (d[j][1] > db.max || null == db.max) && (db.max = d[j][1]);
        } else for (var j = 0; j < d.length; j++) (d[j][3] < db.min || null == db.min) && (db.min = d[j][3]), 
        (d[j][2] > db.max || null == db.max) && (db.max = d[j][2]);
    }, $.jqplot.OHLCRenderer.prototype.draw = function(ctx, gd, options) {
        var i, prevColor, ops, b, h, w, a, points, o, d = this.data, xmin = this._xaxis.min, xmax = this._xaxis.max, xminidx = 0, xmaxidx = d.length, xp = this._xaxis.series_u2p, yp = this._yaxis.series_u2p, r = this.renderer, opts = void 0 != options ? options : {};
        void 0 != opts.shadow ? opts.shadow : this.shadow, void 0 != opts.fill ? opts.fill : this.fill, 
        void 0 != opts.fillAndStroke ? opts.fillAndStroke : this.fillAndStroke;
        if (r.bodyWidth = void 0 != opts.bodyWidth ? opts.bodyWidth : r.bodyWidth, r.tickLength = void 0 != opts.tickLength ? opts.tickLength : r.tickLength, 
        ctx.save(), this.show) {
            for (var x, open, hi, low, close, i = 0; i < d.length; i++) d[i][0] < xmin ? xminidx = i : d[i][0] < xmax && (xmaxidx = i + 1);
            var dwidth = this.gridData[xmaxidx - 1][0] - this.gridData[xminidx][0], nvisiblePoints = xmaxidx - xminidx;
            try {
                var dinterval = Math.abs(this._xaxis.series_u2p(parseInt(this._xaxis._intervalStats[0].sortedIntervals[0].interval, 10)) - this._xaxis.series_u2p(0));
            } catch (e) {
                var dinterval = dwidth / nvisiblePoints;
            }
            r.candleStick ? "number" == typeof r.bodyWidth ? r._bodyWidth = r.bodyWidth : r._bodyWidth = Math.min(20, dinterval / 1.65) : "number" == typeof r.tickLength ? r._tickLength = r.tickLength : r._tickLength = Math.min(10, dinterval / 3.5);
            for (var i = xminidx; xmaxidx > i; i++) x = xp(d[i][0]), r.hlc ? (open = null, hi = yp(d[i][1]), 
            low = yp(d[i][2]), close = yp(d[i][3])) : (open = yp(d[i][1]), hi = yp(d[i][2]), 
            low = yp(d[i][3]), close = yp(d[i][4])), o = {}, r.candleStick && !r.hlc ? (w = r._bodyWidth, 
            a = x - w / 2, open > close ? (r.wickColor ? o.color = r.wickColor : r.downBodyColor && (o.color = r.upBodyColor), 
            ops = $.extend(!0, {}, opts, o), r.shapeRenderer.draw(ctx, [ [ x, hi ], [ x, close ] ], ops), 
            r.shapeRenderer.draw(ctx, [ [ x, open ], [ x, low ] ], ops), o = {}, b = close, 
            h = open - close, r.fillUpBody ? o.fillRect = !0 : (o.strokeRect = !0, w -= this.lineWidth, 
            a = x - w / 2), r.upBodyColor && (o.color = r.upBodyColor, o.fillStyle = r.upBodyColor), 
            points = [ a, b, w, h ]) : close > open ? (r.wickColor ? o.color = r.wickColor : r.downBodyColor && (o.color = r.downBodyColor), 
            ops = $.extend(!0, {}, opts, o), r.shapeRenderer.draw(ctx, [ [ x, hi ], [ x, open ] ], ops), 
            r.shapeRenderer.draw(ctx, [ [ x, close ], [ x, low ] ], ops), o = {}, b = open, 
            h = close - open, r.fillDownBody ? o.fillRect = !0 : (o.strokeRect = !0, w -= this.lineWidth, 
            a = x - w / 2), r.downBodyColor && (o.color = r.downBodyColor, o.fillStyle = r.downBodyColor), 
            points = [ a, b, w, h ]) : (r.wickColor && (o.color = r.wickColor), ops = $.extend(!0, {}, opts, o), 
            r.shapeRenderer.draw(ctx, [ [ x, hi ], [ x, low ] ], ops), o = {}, o.fillRect = !1, 
            o.strokeRect = !1, a = [ x - w / 2, open ], b = [ x + w / 2, close ], w = null, 
            h = null, points = [ a, b ]), ops = $.extend(!0, {}, opts, o), r.shapeRenderer.draw(ctx, points, ops)) : (prevColor = opts.color, 
            r.openColor && (opts.color = r.openColor), r.hlc || r.shapeRenderer.draw(ctx, [ [ x - r._tickLength, open ], [ x, open ] ], opts), 
            opts.color = prevColor, r.wickColor && (opts.color = r.wickColor), r.shapeRenderer.draw(ctx, [ [ x, hi ], [ x, low ] ], opts), 
            opts.color = prevColor, r.closeColor && (opts.color = r.closeColor), r.shapeRenderer.draw(ctx, [ [ x, close ], [ x + r._tickLength, close ] ], opts), 
            opts.color = prevColor);
        }
        ctx.restore();
    }, $.jqplot.OHLCRenderer.prototype.drawShadow = function(ctx, gd, options) {}, $.jqplot.OHLCRenderer.checkOptions = function(target, data, options) {
        options.highlighter || (options.highlighter = {
            showMarker: !1,
            tooltipAxes: "y",
            yvalues: 4,
            formatString: '<table class="jqplot-highlighter"><tr><td>date:</td><td>%s</td></tr><tr><td>open:</td><td>%s</td></tr><tr><td>hi:</td><td>%s</td></tr><tr><td>low:</td><td>%s</td></tr><tr><td>close:</td><td>%s</td></tr></table>'
        });
    };
}(jQuery);
//# sourceMappingURL=jqplot.ohlcRenderer.min.js.map